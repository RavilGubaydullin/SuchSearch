group 'com.ravilgub'
version '1.0-SNAPSHOT'

buildscript {
    ext.kotlin_version = '1.3.31'

    repositories {
        jcenter()
        mavenCentral()

    }
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
        classpath 'com.bmuschko:gradle-docker-plugin:4.10.0'

    }
}

apply plugin: 'kotlin'
apply plugin: 'application'
apply plugin: 'com.bmuschko.docker-remote-api'
apply plugin: 'com.bmuschko.docker-java-application'

import com.bmuschko.gradle.docker.tasks.image.DockerBuildImage


mainClassName="main.Application"

repositories {
    jcenter()
}

docker {
    javaApplication {
        baseImage = 'java:openjdk-8-jre'
        maintainer = 'ravil'
        ports = []
        tag = 'ravilgu/crawler-new:3.0'
        jvmArgs = ['-Xms256m', '-Xmx512m']
    }
}

dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
    compile 'com.rabbitmq:amqp-client:5.7.1'
    compile 'com.github.kittinunf.fuel:fuel:2.1.0'
    implementation 'com.beust:klaxon:5.0.1'
    compile 'org.mongodb:mongodb-driver:3.8.1'

}

